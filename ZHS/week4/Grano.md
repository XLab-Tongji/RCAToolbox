# GRANO: Interactive Graph-based Root Cause Analysis for Cloud-Native Distributed Data Platform

# 简介
- 检测层:支持大量系统组件和指标的异常检测
- analyst-in-the-loop方法
> 分析师加入到处理过程中来,让机器(程序)和人互动协作完成任务
- 将检测结果与其他基于规则的警报和应用程序事件相结合
- 基于图的根因相关性算法

# 系统架构
- 检测层:包括基于机器学习的异常检测模型和统计异常检测模型
- 绘图层:提供检测事件的二级聚合并且通过分布式数据的系统平台衡量每个组件的根因相关性(RCR)
- 异常图生成器构建一个异常图,该异常图由所有物理和逻辑系统组件及其相互依赖性(表示为边)、警报(包括由一级检测模型和基于规则的报警生成的检测事件)和应用程序事件组成.经由异常图算法用于计算相关性得分.
- 应用层:随叫随到的分析师与异常图交互,在系统组件和异常之间进行分类,并使用RCR和知识图谱来识别根因

# 检测模型
- 从一组相似的行为的目标中识别异常值:使用基于密度的聚类算法
- 确定目标在给定指标上的行为是否与其正常行为不同
- 确定指标的行为是否与其最近的行为不同


# 基于图的根因相关性
## 第一步-图的构造
$$G = (V,E), V = C\cup A$$
C 为系统组件集合,E为互相依赖,A为警报、事件集合

每个报警事件都与一个临界值相关

警报边e(a,c)的权值表示警报的严重程度

## 第二步-给边评分
对于每个组件
- 基于给定时间间隔内特定系统组件的警报严重程度
- 基于给定时间间隔内所有组件的警报频率

## 第三步-给组件节点评分
和节点连接的边权重与临界值加权求和


## 第四步-分数传播
使用特定算法将分数传播到与该节点连接的其他节点,计算传播分数

## 第五步-结果展示
...

# 使用知识图谱进行RCA
结果图谱
